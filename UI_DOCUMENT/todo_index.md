# ToDo一覧画面定義書

## 画面概要
- 画面名: ToDo一覧画面
- URL: /todos
- 役割: ユーザーのToDoタスク一覧表示と管理機能を提供

## 画面レイアウト
### ヘッダー部分
- アプリケーションロゴ
- ナビゲーションメニュー
  - ダッシュボード
  - ToDo一覧（アクティブ）
  - タグ管理
- ユーザー情報
  - ユーザー名
  - ログアウトボタン

### メインコンテンツ
#### フィルターセクション
- ステータスフィルター
  - すべて
  - 未完了
  - 完了
  - 期限超過
- タグフィルター
  - 複数選択可能
  - チェックボックス形式
- 検索ボックス
  - タイトルと説明で検索

#### タスク一覧
- 新規作成ボタン
  - 右上に配置
  - プライマリーカラー
  
- タスクカード
  - タイトル（インライン編集可能）
  - 説明（インライン編集可能）
  - 期限日時
  - ステータス（トグル可能）
  - タグ（複数表示）
  - アクションボタン
    - 編集
    - 削除
    - 完了/未完了切り替え

#### ページネーション
- 1ページあたり10件表示
- ページ番号表示
- 前後ページへのナビゲーション

## スタイリング
- フレームワーク: Tailwind CSS
- レスポンシブ対応
  - モバイル（〜767px）
    - 1列表示
    - フィルターはドロップダウン
  - タブレット（768px〜1023px）
    - 2列表示
  - デスクトップ（1024px〜）
    - 3列表示

## インタラクション
### インライン編集
- タイトルクリックで編集モード
- 説明クリックで編集モード
- 自動保存機能
- バリデーション
  - タイトル: 必須、最大100文字
  - 説明: 最大500文字

### ステータス変更
- チェックボックスクリックで即時反映
- 楽観的ロック制御
- アニメーション効果

### タグ管理
- タグの追加/削除
- ドラッグ&ドロップ対応
- カラーコード設定

## エラー表示
- バリデーションエラー
  - インライン表示
  - 赤文字で表示
- 通信エラー
  - トースト表示
  - 自動消去（5秒）

## セキュリティ対策
- CSRF対策
- XSS対策
- 認可チェック
  - 自身のタスクのみ表示/編集可能

## アクセシビリティ
- WAI-ARIA対応
- キーボード操作対応
- スクリーンリーダー対応
- カラーコントラスト対応

## 画面遷移
- 新規作成ボタン: タスク作成画面へ
- タスクカード編集: 編集画面へ
- タグクリック: タグでフィルタリング

## パフォーマンス最適化
- 遅延読み込み
- キャッシュ制御
- 楽観的UI更新
- デバウンス処理（検索、フィルター）

## UI図
```plantuml
@startsalt
{
  {^"Todo App"
    [X] | "Todo App" | "Dashboard | <b>Todos</b> | Tags" | [User ▼]
  }
  {
    {
      {
        "Filter:" | ^"All" ^"Active" ^"Completed" ^"Overdue"
        "Tags:" | [X] "Development" [X] "Meeting" [ ] "Personal"
        "Search:" | "                   " | [Search]
      }
      {
        [+ New Task] | "Sort by:" | ^"Due Date ▼"
      }
      {#
        | Title | Description | Due Date | Status | Tags | Actions
        "Meeting prep" | "Prepare docs..." | "2024-03-20" | "Active" | "#Meeting" | "[Edit] [Delete]"
        "Code review" | "Review PR..." | "2024-03-21" | "Active" | "#Development" | "[Edit] [Delete]"
        "Daily standup" | "Team sync..." | "2024-03-19" | "Completed" | "#Meeting" | "[Edit] [Delete]"
      }
      {
        "<< | < | 1 | 2 | 3 | > | >>"
      }
    }
  }
}
@endsalt

' モバイル表示
@startsalt
{
  {^"Todo App"
    [≡] | "Todo App" | [User ▼]
  }
  {
    {
      "Filters ▼"
      "Search:" | "           " | [🔍]
      [+ New Task]
    }
    {
      {
        {#
          Task Cards
          +------------------+
          | Meeting prep     |
          | Due: 2024-03-20 |
          | #Meeting        |
          | [Edit] [Delete] |
          +------------------+
          +------------------+
          | Code review     |
          | Due: 2024-03-21 |
          | #Development    |
          | [Edit] [Delete] |
          +------------------+
        }
      }
    }
    {
      "< 1 2 3 >"
    }
  }
}
@endsalt 